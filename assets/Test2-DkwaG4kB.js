import{S as h,P as f,W as w,G as _,c as u,A as v,d as b,e as x,M as S,O as y}from"./OrbitControls-C4_R_iy2.js";import{_ as L,c as m,g as a,m as P,t as M,p as A,b as g}from"./index-DxHNI6Aq.js";const B={data(){return{progress:"0%",loadSuccess:!1}},mounted(){const s=new h,r=new f(75,window.innerWidth/window.innerHeight,.1,1e3);r.position.set(0,1,5);const n=new w;n.setSize(window.innerWidth,window.innerHeight),this.$refs.draw.appendChild(n.domElement);const i=new _(1e3,50,4473924,4473924);s.add(i);const t=new u(16777215,1);t.position.set(5,5,5),s.add(t);const d=new v(4210752,2);s.add(d);const c=new b(16777215,2,10);c.position.set(-10,5,10),s.add(c),new x().load("factory_optymize_v2.glb",e=>{e.scene.traverse(p=>{p.isMesh&&(p.material=new S({emissiveIntensity:1.5,metalness:.5,roughness:.3,transparent:!0,opacity:.7}))}),s.add(e.scene),console.log("模型加载成功",e),this.loadSuccess=!0},e=>{this.progress=`${(e.loaded/e.total*100).toFixed(0)}%`},e=>{console.error("模型加载失败",e)});const o=new y(r,n.domElement);o.enableDamping=!0,o.dampingFactor=.25,o.screenSpacePanning=!1,o.maxPolarAngle=Math.PI/2;function l(){requestAnimationFrame(l),o.update(),n.render(s,r)}l()}},C={style:{width:"100%",height:"100%",position:"relative"}},F={id:"three_div",ref:"draw",class:"draw"},G={key:0,class:"loadingBox"},H={class:"progress"},W={class:"progress-value"};function k(s,r,n,i,t,d){return g(),m("div",C,[a("div",F,null,512),t.loadSuccess?(g(),m("div",G,[a("div",H,[a("div",{class:"progress-bar progress-bar-danger progress-bar-striped active",style:P({width:t.progress})},[a("div",W,M(t.progress),1)],4)])])):A("",!0)])}const $=L(B,[["render",k]]);export{$ as default};
